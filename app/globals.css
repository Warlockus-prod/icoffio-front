@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
}

/* üé® –¢–ï–ú–ù–ê–Ø –¢–ï–ú–ê (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è .dark –∫–ª–∞—Å—Å –∏–∑ tailwind.config.ts) */
.dark {
  --foreground-rgb: 255, 255, 255;
  --background-start-rgb: 17, 24, 39;
  --background-end-rgb: 17, 24, 39;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Smooth transitions for dark mode */
* {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* –û—Ç–∫–ª—é—á–∞–µ–º Grammarly –¥–ª—è content editor */
.prose [contenteditable="true"],
.tiptap,
textarea.markdown-editor {
  -webkit-user-modify: read-write-plaintext-only;
  data-gramm: false;
  data-gramm_editor: false;
  data-enable-grammarly: false;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* ‚ú® CRITICAL: VOX Ad Containers - Prevent Overlapping */
.vox-ad-container {
  position: relative !important;
  display: block !important;
  clear: both !important;
  margin: 20px auto !important;
  overflow: visible !important;
  min-height: 50px !important;
  
  /* Prevent multiple instances from stacking */
  isolation: isolate !important;
}

/* Inline Ads (article content) */
.vox-inline-ad {
  width: 100% !important;
  max-width: 970px !important;
  margin: 24px auto !important;
  text-align: center !important;
}

/* Sidebar Ads */
.vox-sidebar-ad {
  width: 100% !important;
  max-width: 300px !important;
  margin: 0 auto 24px auto !important;
  position: relative !important;
  z-index: 1 !important;
}

.vox-sidebar-ad + .vox-sidebar-ad {
  margin-top: 24px !important;
}

/* Mobile Ads */
.vox-mobile-ad {
  width: 100% !important;
  max-width: 320px !important;
  margin: 16px auto !important;
  text-align: center !important;
}

/* Video Player Ads */
.vox-video-ad {
  position: relative !important;
  width: 100% !important;
  max-width: 640px !important;
  aspect-ratio: 16 / 9 !important;
  margin: 20px auto !important;
}

/* ‚ú® CRITICAL: Prevent VOX from creating duplicate ad containers */
[data-hyb-ssp-ad-place] + [data-hyb-ssp-ad-place] {
  margin-top: 32px !important;
}

/* Desktop —Ç–æ–ª—å–∫–æ */
@media (min-width: 1024px) {
  .vox-728-90,
  .vox-970-250 {
    display: block !important;
  }
}

/* Mobile —Ç–æ–ª—å–∫–æ */
@media (max-width: 1023px) {
  .vox-728-90,
  .vox-970-250 {
    display: none !important;
  }
  
  .vox-320-50,
  .vox-320-100 {
    display: block !important;
  }
}

/* ‚ú® FIX: –£–±–∏—Ä–∞–µ–º duplicate ads —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º PlaceID */
[data-hyb-ssp-ad-place] iframe {
  max-width: 100% !important;
  height: auto !important;
  display: block !important;
  margin: 0 auto !important;
}

/* Prevent layout shift while ads are loading */
.vox-ad-container:empty {
  min-height: var(--ad-min-height, 90px) !important;
  background: transparent !important;
}



